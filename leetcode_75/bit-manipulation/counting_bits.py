class Solution:
    def countBits(self, n: int) -> List[int]:
        """
        0 = 0   >> 1 = 0(0)  + 0 % 2 = 0
        1 = 1   >> 1 = 0(0)  + 1 % 2 = 1
        2 = 10  >> 1 = 1(1)  + 2 % 2 = 1
        3 = 11  >> 1 = 1(1)  + 3 % 2 = 2
        4 = 100 >> 1 = 10(2) + 4 % 2 = 1
        5 = 101 >> 1 = 10(2) + 5 % 2 = 2
        6 = 110 >> 1 = 11(3) + 6 % 2 = 2
        7 = 111 >> 1 = 11(3) + 7 % 2 = 3
        """
        res = [0]
        for i in range(1, n+1):
            res.append(res[i >> 1] + i % 2)
        return res